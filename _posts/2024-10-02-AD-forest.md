---
layout: app
title: "Active Directory Forest"
tags: []

---

# Native Powershell Modules

## Enumerating Trust Relationships

```powershell
Import-Module activedirectory
Get-ADTrust -Filter *
```

# With Powerview

```powershell
(powerview)> Get-DomainTrust 
```

## Using Get-DomainTrustMapping

```powershell
(powerview)> Get-DomainTrustMapping
```

## Checking Users in the Child Domain using Get-DomainUser

```powershell
(powerview)> Get-DomainUser -Domain [child domain] | select SamAccountName
```

Another tool we can use to get Domain Trust is netdom. The netdom query sub-command of the netdom command-line tool in Windows can retrieve information about the domain, including a list of workstations, servers, and domain trusts.


## Using netdom to query domain trust

```bash
netdom query /domain:[ domain] trust
```

## Using netdom to query domain controllers
```bash
netdom query /domain:[domain] dc
```

## Using netdom to query workstations and servers
```bash
netdom query /domain:[domain] workstation
```

# Using BloodHound

We can also use BloodHound to visualize these trust relationships by using the Map Domain Trusts pre-built query. Here we can easily see that two bidirectional trusts exist.

